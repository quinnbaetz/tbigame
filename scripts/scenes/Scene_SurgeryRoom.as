(function(){	 var playerDialog = function(callback){		var messages = new Array("I don’t have any tools yet.");		return displayMessages(messages, 50, 360, callback, true);			}	var surgeonDialog = function(callback){		var messages = new Array("Don’t start yet, I need to talk to you.");		return displayMessages(messages, null, null, callback, false, "surgeonFace");	}	var surgeonDialogTools = function(callback){		var messages = new Array("I’ve cleaned and prepped the tools for you.", 								 "Why don’t you collect the tools on the tray and head over to the patient and we’ll get started?");		return displayMessages(messages, null, null, callback, false, "surgeonFace");	}	var surgeonDialogIncision = function(callback){		var messages = new Array("The patient is ready for the first incision,",				  				"there should be a new set of tools for the next phase of surgery,",				 				"check the tray to make sure they are all ready.");		return displayMessages(messages, null, null, callback, false, "surgeonFace");	}			var removeMsg = function(playerMsg){		if(playerMsg !== null && typeof(playerMsg.remove) === "function"){			playerMsg.remove();			playerMsg = null;		}		return null;	}	var msg = null;	switch(timeline){		case 100:						fadeIn(function(){				var playerMsg = null;				var surgeonMsg = null;												var SurgeonButton:ClickRegion = new ClickRegion(stage, 0, 0, 150, 500, function(){					playerMsg = removeMsg(playerMsg);					surgeonMsg = removeMsg(surgeonMsg);					trayButton.remove();					patientButton.remove();					SurgeonButton.remove();					gotoAndStop("Scene_SurgeonFace");									});												var patientButton:ClickRegion = new ClickRegion(stage, 150, 200, 350, 300, function(){					removeMsg(playerMsg);					removeMsg(surgeonMsg);					playerMsg = playerDialog();				});								var trayButton:ClickRegion = new ClickRegion(stage, 600, 300, 200, 300, function(){					removeMsg(playerMsg);					removeMsg(surgeonMsg);					surgeonMsg = surgeonDialog();				});			});		break;		case 102:			msg = surgeonDialogTools();				case 108: /*Hack because 108 has the same sequence as 102*/			if(msg === null){				msg = surgeonDialogIncision();			}			var patientButton:ClickRegion = new ClickRegion(stage, 150, 200, 350, 300, function(){				removeMsg(msg);				msg = playerDialog();			});						var trayButton:ClickRegion = new ClickRegion(stage, 600, 300, 200, 300, function(){				msg = removeMsg(msg);				trayButton.remove();				patientButton.remove();				timeline--; /*hack to get timeline back on track */				gotoAndStop("Scene_SurgeryTray");			});		break;		case 103:		case 109:			var patientButton:ClickRegion = new ClickRegion(stage, 150, 200, 350, 300, function(){				patientButton.remove();				timeline--; /*hack to get timeline back on track */				gotoAndStop("Scene_SurgeryPatient");			});		break;			}	timeline++;})();